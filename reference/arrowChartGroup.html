<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Arrow Chart by Group for Blackstone Research and Evaluation — arrowChartGroup • blackstone</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Arrow Chart by Group for Blackstone Research and Evaluation — arrowChartGroup"><meta name="description" content="arrowChartGroup() creates an pre-post arrow chart of group averages and returns
a ggplot object."><meta property="og:description" content="arrowChartGroup() creates an pre-post arrow chart of group averages and returns
a ggplot object."><meta property="og:image" content="https://zwcrowley.github.io/blackstone/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">blackstone</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/blackstone.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/zwcrowley/blackstone/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Arrow Chart by Group for Blackstone Research and Evaluation</h1>
      <small class="dont-index">Source: <a href="https://github.com/zwcrowley/blackstone/blob/main/R/arrowChartGroup.R" class="external-link"><code>R/arrowChartGroup.R</code></a></small>
      <div class="d-none name"><code>arrowChartGroup.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><code>arrowChartGroup()</code> creates an pre-post arrow chart of group averages and returns
a ggplot object.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">arrowChartGroup</span><span class="op">(</span></span>
<span>  <span class="va">df</span>,</span>
<span>  <span class="va">group</span>,</span>
<span>  <span class="va">scale_labels</span>,</span>
<span>  group_colors <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">group_levels</span>,</span>
<span>  overall_n <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  question_labels <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  question_order <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  font_family <span class="op">=</span> <span class="st">"Arial"</span>,</span>
<span>  font_size <span class="op">=</span> <span class="fl">10</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-df">df<a class="anchor" aria-label="anchor" href="#arg-df"></a></dt>
<dd><p>Required, a <a href="https://tibble.tidyverse.org/reference/tibble-package.html" class="external-link">tibble</a> or data frame of <strong>numeric</strong> data that has items with the prefix of <code>pre_</code> and <code>post_</code>; and has a categorical group
variable to split up the data (e.g. role, gender, education level, etc.).</p></dd>


<dt id="arg-group">group<a class="anchor" aria-label="anchor" href="#arg-group"></a></dt>
<dd><p>Required, the name of the grouping variable in a quoted character string, e.g. "role", "gender", "edu_level", etc..</p></dd>


<dt id="arg-scale-labels">scale_labels<a class="anchor" aria-label="anchor" href="#arg-scale-labels"></a></dt>
<dd><p>Required, a character vector of labels for the response scale, must be in the desired order,
e.g. if you have a 5 item scale of minimal to extensive it should look like this: <code>levels_min_ext &lt;- c("Minimal", "Slight", "Moderate", "Good", "Extensive")</code>.</p></dd>


<dt id="arg-group-colors">group_colors<a class="anchor" aria-label="anchor" href="#arg-group-colors"></a></dt>
<dd><p>Required, A character vector of hex codes for colors to associate
each group supplied in the <code>group_levels</code> argument. to, e.g. if the data has two groups and this function creates an
overall group so this function will need a 'group_colors' character vector of
three colors. <code>group_colors</code> need to be in the order you want them associated to
the group based on the factor levels for the group variable. Defaults to BRE custom qualitative palette and
black is always the color for the "Overall" group.</p></dd>


<dt id="arg-group-levels">group_levels<a class="anchor" aria-label="anchor" href="#arg-group-levels"></a></dt>
<dd><p>Required, a character vector of factor levels for the grouping variable, e.g. if the
grouping variable is gender this could be: "male", "female", "non-binary".</p></dd>


<dt id="arg-overall-n">overall_n<a class="anchor" aria-label="anchor" href="#arg-overall-n"></a></dt>
<dd><p>Logical, default is TRUE. If TRUE, returns an overall <em>n</em> for all questions that is in the upper left tag of the plot.
If False, adds <em>n</em> to each question/item after the respective labels.</p></dd>


<dt id="arg-question-labels">question_labels<a class="anchor" aria-label="anchor" href="#arg-question-labels"></a></dt>
<dd><p>Default is NULL. Takes in a named character vector to both supply labels the questions and sort the order of the questions.
The named character vector should have the new labels as the "name" and the old labels as the "variable" sorted in the
desired order of appearing in the plot, first item will appear at the top of the plot. See examples.</p></dd>


<dt id="arg-question-order">question_order<a class="anchor" aria-label="anchor" href="#arg-question-order"></a></dt>
<dd><p>Logical, default is FALSE. If TRUE, the question order will be taken from the user supplied named character vector passed to
question_labels, where the first item will be at the top of the plot and so on. If FALSE, the question order will be the questions with highest
post score average on the top of the plot descending.</p></dd>


<dt id="arg-font-family">font_family<a class="anchor" aria-label="anchor" href="#arg-font-family"></a></dt>
<dd><p>Character value to set the font family for all text in the chart, defaults to "Arial".</p></dd>


<dt id="arg-font-size">font_size<a class="anchor" aria-label="anchor" href="#arg-font-size"></a></dt>
<dd><p>Numeric value to set the font size in points for all text in the chart, defaults to size 10.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A <a href="https://ggplot2.tidyverse.org/reference/ggplot2-package.html" class="external-link">ggplot2</a> object that plots the items into a arrow bar chart.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">items</span> <span class="op">&lt;-</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  pre_Organization <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">4</span>, <span class="fl">5</span>, <span class="fl">4</span>, <span class="fl">3</span>, <span class="fl">2</span>, <span class="fl">1</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  post_Organization <span class="op">=</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/if_else.html" class="external-link">if_else</a></span><span class="op">(</span><span class="va">pre_Organization</span> <span class="op">&lt;</span> <span class="fl">5</span>, <span class="va">pre_Organization</span> <span class="op">+</span> <span class="fl">1</span>, <span class="va">pre_Organization</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  pre_Source <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">5</span>, <span class="fl">4</span>, <span class="fl">3</span>, <span class="fl">2</span>, <span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  post_Source <span class="op">=</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/if_else.html" class="external-link">if_else</a></span><span class="op">(</span><span class="va">pre_Source</span> <span class="op">&lt;</span> <span class="fl">4</span>, <span class="va">pre_Source</span> <span class="op">+</span> <span class="fl">2</span>, <span class="va">pre_Source</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  pre_Publish <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">2</span>, <span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">3</span>, <span class="fl">3</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  post_Publish <span class="op">=</span> <span class="va">pre_Publish</span> <span class="op">+</span> <span class="fl">2</span>,</span></span>
<span class="r-in"><span>  pre_Write <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">2</span>, <span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">3</span>, <span class="fl">3</span>, <span class="fl">4</span>, <span class="fl">4</span>, <span class="fl">4</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  post_Write <span class="op">=</span> <span class="va">pre_Write</span> <span class="op">+</span> <span class="fl">1</span>,</span></span>
<span class="r-in"><span>  pre_Research <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">3</span>, <span class="fl">4</span>, <span class="fl">4</span>, <span class="fl">4</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  post_Research <span class="op">=</span> <span class="va">pre_Research</span> <span class="op">+</span> <span class="fl">1</span>,</span></span>
<span class="r-in"><span>  edu_level <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>       <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>      <span class="st">"grad"</span>, <span class="st">"undergrad"</span>, <span class="st">"grad"</span>, <span class="st">"undergrad"</span>, <span class="st">"grad"</span>,</span></span>
<span class="r-in"><span>      <span class="st">"undergrad"</span>, <span class="st">"undergrad"</span>, <span class="st">"grad"</span>, <span class="st">"undergrad"</span></span></span>
<span class="r-in"><span>      <span class="op">)</span>,</span></span>
<span class="r-in"><span>      levels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"grad"</span>, <span class="st">"undergrad"</span><span class="op">)</span></span></span>
<span class="r-in"><span>      <span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Labels for response scales to recode the numeric variables to on the plot:</span></span></span>
<span class="r-in"><span><span class="va">levels_min_ext</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Minimal"</span>, <span class="st">"Slight"</span>, <span class="st">"Moderate"</span>, <span class="st">"Good"</span>, <span class="st">"Extensive"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># Question labels as a named vector with the naming structure</span></span></span>
<span class="r-in"><span><span class="co"># like this: c("new label" = "original variable name"):</span></span></span>
<span class="r-in"><span><span class="va">question_labels</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Publish a lot of high quality papers"</span> <span class="op">=</span>  <span class="st">"Publish"</span>,</span></span>
<span class="r-in"><span>                     <span class="st">"Write a lot of research papers"</span> <span class="op">=</span> <span class="st">"Write"</span>,</span></span>
<span class="r-in"><span>                     <span class="st">"Research in a lab with faculty"</span> <span class="op">=</span> <span class="st">"Research"</span>,</span></span>
<span class="r-in"><span>                     <span class="st">"Organization of a large research project"</span> <span class="op">=</span> <span class="st">"Organization"</span>,</span></span>
<span class="r-in"><span>                     <span class="st">"Source work for a research paper"</span> <span class="op">=</span> <span class="st">"Source"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Example grouped by the variable "edu_level", with n for each question and original labels:</span></span></span>
<span class="r-in"><span><span class="fu">arrowChartGroup</span><span class="op">(</span>df <span class="op">=</span> <span class="va">items</span>, group <span class="op">=</span> <span class="st">"edu_level"</span>, scale_labels <span class="op">=</span> <span class="va">levels_min_ext</span>,</span></span>
<span class="r-in"><span>                group_levels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"grad"</span>, <span class="st">"undergrad"</span><span class="op">)</span>, overall_n <span class="op">=</span> <span class="cn">FALSE</span>,</span></span>
<span class="r-in"><span>                question_labels <span class="op">=</span> <span class="cn">NULL</span>, question_order <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="arrowChartGroup-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># With new labels, question_order = FALSE, and overall_n set to TRUE:</span></span></span>
<span class="r-in"><span><span class="fu">arrowChartGroup</span><span class="op">(</span>df <span class="op">=</span> <span class="va">items</span>, group <span class="op">=</span> <span class="st">"edu_level"</span>, scale_labels <span class="op">=</span> <span class="va">levels_min_ext</span>,</span></span>
<span class="r-in"><span>                group_levels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"grad"</span>, <span class="st">"undergrad"</span><span class="op">)</span>, overall_n <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>                question_labels <span class="op">=</span> <span class="va">question_labels</span>, question_order <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="arrowChartGroup-2.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># With new labels and order taken from question_labels argument, and overall_n set to FALSE:</span></span></span>
<span class="r-in"><span><span class="fu">arrowChartGroup</span><span class="op">(</span>df <span class="op">=</span> <span class="va">items</span>, group <span class="op">=</span> <span class="st">"edu_level"</span>, scale_labels <span class="op">=</span> <span class="va">levels_min_ext</span>,</span></span>
<span class="r-in"><span>                group_levels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"grad"</span>, <span class="st">"undergrad"</span><span class="op">)</span>, overall_n <span class="op">=</span> <span class="cn">FALSE</span>,</span></span>
<span class="r-in"><span>                question_labels <span class="op">=</span> <span class="va">question_labels</span>, question_order <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="arrowChartGroup-3.png" alt="" width="700" height="433"></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://github.com/zwcrowley" class="external-link">Zack Crowley</a>, <a href="https://blackstoneevaluation.com/" class="external-link">Blackstone Research and Evaluation</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer></div>





  </body></html>

